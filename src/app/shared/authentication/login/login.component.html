<div class="modal-dialog">
    <div class="modal-content">
        <form class="form-horizontal" (ngSubmit)='loginUser(loginForm.value)' #loginForm=ngForm>

            <div class="modal-header">
                <button type="button" class="close" (click)="close()">&times;</button>
                <h4 class="modal-title">{{title || 'Prompt'}}</h4>
            </div>
            <div class="modal-body">
                <div class="main-login main-center">
                    <div class="form-group">
                        <label for="username" class="cols-sm-2 control-label">Username</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                <input class='form-control' placeholder='Username' name="username" (ngModel)="user.username" #usernameInput=ngModel required minlength="4">

                            </div>

                        </div>
                        <label class="validation-feedback" *ngIf="(usernameInput.errors && (usernameInput.dirty || usernameInput.touched)) || usernameInput.errors && mouseover">
                                        <span *ngIf="usernameInput.errors.required">Username is required</span>
                                        <span *ngIf="usernameInput.errors.minlength">Username must be at least 4 characters </span>
                                    </label>
                    </div>

                    <div class="form-group">
                        <label for="password" class="cols-sm-2 control-label">Password</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                                <input class='form-control' placeholder='Password' type='password' name="password" (ngModel)="user.password" #passwordInput=ngModel required minlength="8" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{2,}$">
                            </div>
                        </div>
                        <label class="validation-feedback" *ngIf="(passwordInput.errors && (passwordInput.dirty || passwordInput.touched)) || passwordInput.errors && mouseover">
                                    <span *ngIf="passwordInput.errors.required">Password is required</span>
                                    <span *ngIf="passwordInput.errors.minlength">Password must be 8 characters long, we need another {{passwordInput.errors.minlength.requiredLength - passwordInput.errors.minlength.actualLength}} characters </span>
                                    <span *ngIf="passwordInput.errors.pattern">Password must contain at least one uppercase letter and at least one number.</span>
                                </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a class="btn btn-primary left" (click)="showRegisterModal();">Register</a>

                <span (mouseenter)="mouseover=true" (mouseleave)="mouseover=false">
                            <button class="btn btn-success" type="submit" [disabled]="!loginForm.valid">Log in</button></span>
                <button type="button" class="btn btn-default" (click)="close()">Cancel</button>
            </div>
        </form>

    </div>
</div>